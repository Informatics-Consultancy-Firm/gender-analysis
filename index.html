<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BBCMA Gender Audit Dashboard - ICF-SL</title>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { margin: 0; padding: 20px; background-color: #f5f5f5; font-family: 'Oswald', Arial, sans-serif; color: #000; font-weight: 500; }
        .page-container { width: 100%; max-width: 1600px; margin: 0 auto; }
        
        /* Header */
        .page-header { background-color: #004080; color: #fff; padding: 25px 30px; text-align: center; margin-bottom: 20px; border-radius: 8px 8px 0 0; }
        .logo-row { display: flex; justify-content: center; align-items: center; gap: 30px; margin-bottom: 15px; }
        .logo-box { background: #fff; border-radius: 8px; padding: 10px; }
        .logo-box img { width: 100px; height: auto; border-radius: 6px; }
        .page-header h3 { margin: 12px 0 5px; font-size: 14px; font-weight: 700; letter-spacing: 1px; }
        .page-header .tagline { margin: 0; font-size: 10px; font-style: italic; }
        .page-header h1 { margin: 20px 0 10px; font-size: 28px; font-weight: 700; letter-spacing: 1px; }
        .page-header .subtitle { font-size: 14px; font-weight: 500; }
        
        /* Content Card */
        .content-card { border: 4px double #004080; border-radius: 12px; padding: 20px; background-color: #fff; box-shadow: 0 4px 12px rgba(0,0,0,0.1); margin-bottom: 20px; }
        
        /* KPI Cards */
        .kpi-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 15px; margin-bottom: 25px; }
        .kpi-card { background: linear-gradient(135deg, #004080 0%, #0056b3 100%); color: #fff; padding: 20px; border-radius: 10px; text-align: center; box-shadow: 0 4px 15px rgba(0,64,128,0.3); transition: transform 0.2s; }
        .kpi-card:hover { transform: translateY(-5px); }
        .kpi-card.female { background: linear-gradient(135deg, #e91e63 0%, #f06292 100%); }
        .kpi-card.male { background: linear-gradient(135deg, #1976d2 0%, #42a5f5 100%); }
        .kpi-card.success { background: linear-gradient(135deg, #2e7d32 0%, #66bb6a 100%); }
        .kpi-card.warning { background: linear-gradient(135deg, #f57c00 0%, #ffb74d 100%); }
        .kpi-value { font-size: 2.5rem; font-weight: 700; margin-bottom: 5px; }
        .kpi-label { font-size: 12px; text-transform: uppercase; letter-spacing: 1px; opacity: 0.9; }
        .kpi-sublabel { font-size: 11px; margin-top: 5px; opacity: 0.8; }
        
        /* Section Headers */
        .section-header { background-color: #004080; color: #fff; padding: 15px 20px; margin: 25px 0 20px; border-radius: 6px; display: flex; align-items: center; gap: 15px; }
        .section-number { background: #fff; color: #004080; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 700; }
        .section-title { font-size: 18px; font-weight: 700; letter-spacing: 0.5px; }
        
        /* Charts Grid */
        .charts-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(500px, 1fr)); gap: 20px; margin-bottom: 25px; }
        .chart-card { background: #fff; border: 2px solid #004080; border-radius: 10px; padding: 20px; transition: box-shadow 0.2s; }
        .chart-card:hover { box-shadow: 0 8px 25px rgba(0,64,128,0.2); }
        .chart-card h4 { color: #004080; font-size: 14px; font-weight: 700; margin-bottom: 15px; text-align: center; text-transform: uppercase; letter-spacing: 0.5px; }
        .chart-container { position: relative; height: 350px; }
        .chart-container.tall { height: 450px; }
        .chart-container.short { height: 280px; }
        
        /* Full Width Chart */
        .full-width-chart { margin-bottom: 25px; }
        .full-width-chart .chart-container { height: 400px; }
        
        /* Tables */
        .table-container { max-height: 400px; overflow: auto; border: 2px solid #004080; border-radius: 8px; margin: 15px 0; }
        .data-table { width: 100%; border-collapse: collapse; font-size: 12px; }
        .data-table th, .data-table td { padding: 10px 12px; text-align: left; border-bottom: 1px solid #ddd; }
        .data-table th { background: #004080; color: #fff; font-weight: 700; position: sticky; top: 0; z-index: 10; }
        .data-table tr:hover { background: #e7f3ff; }
        .data-table tr:nth-child(even) { background: #f8f9fa; }
        
        /* Summary Stats */
        .summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin: 20px 0; }
        .summary-box { background: #f8f9fa; border-left: 4px solid #004080; padding: 15px; border-radius: 0 8px 8px 0; }
        .summary-box.female { border-left-color: #e91e63; }
        .summary-box.male { border-left-color: #1976d2; }
        .summary-box h5 { color: #004080; font-size: 13px; margin-bottom: 10px; }
        .summary-box.female h5 { color: #e91e63; }
        .summary-box.male h5 { color: #1976d2; }
        .summary-item { display: flex; justify-content: space-between; padding: 5px 0; font-size: 12px; border-bottom: 1px solid #eee; }
        .summary-item:last-child { border-bottom: none; }
        .summary-item .label { color: #666; }
        .summary-item .value { font-weight: 700; color: #333; }
        
        /* Insight Box */
        .insight-box { background: #e3f2fd; border: 2px solid #1976d2; border-radius: 8px; padding: 15px; margin: 15px 0; }
        .insight-box.warning { background: #fff3e0; border-color: #f57c00; }
        .insight-box.female { background: #fce4ec; border-color: #e91e63; }
        .insight-box h5 { color: #1976d2; font-size: 13px; margin-bottom: 8px; }
        .insight-box.warning h5 { color: #f57c00; }
        .insight-box.female h5 { color: #e91e63; }
        .insight-box p { color: #333; font-size: 12px; line-height: 1.6; }
        
        /* Legend Custom */
        .custom-legend { display: flex; justify-content: center; gap: 25px; margin-top: 15px; flex-wrap: wrap; }
        .legend-item { display: flex; align-items: center; gap: 8px; font-size: 12px; font-weight: 600; }
        .legend-color { width: 20px; height: 20px; border-radius: 4px; }
        
        /* Footer */
        .page-footer { background-color: #004080; color: #fff; padding: 20px 30px; text-align: center; font-size: 13px; line-height: 1.7; border-radius: 0 0 8px 8px; }
        .page-footer p { margin: 6px 0 0; font-size: 12px; }
        
        /* Tooltip custom styling */
        .chart-tooltip { font-family: 'Oswald', Arial, sans-serif !important; }
        
        @media (max-width: 768px) {
            .charts-grid { grid-template-columns: 1fr; }
            .kpi-grid { grid-template-columns: repeat(2, 1fr); }
        }
    </style>
</head>
<body>
    <div class="page-container">
        <div class="page-header">
            <div class="logo-row">
                <div class="logo-box">
                    <img src="https://github.com/mohamedsillahkanu/gdp-dashboard-2/raw/6c7463b0d5c3be150aafae695a4bcbbd8aeb1499/ICF-SL.jpg" alt="ICF-SL Logo">
                </div>
            </div>
            <h3>Informatics Consultancy Firm-Sierra Leone<br>(ICF-SL)</h3>
            <p class="tagline"><em>Driving Data-Driven Solutions for Health and Development</em></p>
            <h1>BBCMA GENDER AUDIT DASHBOARD</h1>
            <p class="subtitle">Comprehensive Analysis of Gender Representation in Sierra Leone Media Houses</p>
        </div>

        <div class="content-card">
            <!-- KPI Summary -->
            <div class="kpi-grid">
                <div class="kpi-card">
                    <div class="kpi-value">215</div>
                    <div class="kpi-label">Media Houses</div>
                    <div class="kpi-sublabel">Surveyed</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value">2,406</div>
                    <div class="kpi-label">Total Employees</div>
                    <div class="kpi-sublabel">Across all media</div>
                </div>
                <div class="kpi-card female">
                    <div class="kpi-value">31.8%</div>
                    <div class="kpi-label">Female Employees</div>
                    <div class="kpi-sublabel">765 of 2,406</div>
                </div>
                <div class="kpi-card male">
                    <div class="kpi-value">64.7%</div>
                    <div class="kpi-label">Male Employees</div>
                    <div class="kpi-sublabel">1,556 of 2,406</div>
                </div>
                <div class="kpi-card female">
                    <div class="kpi-value">14.0%</div>
                    <div class="kpi-label">Female Ownership</div>
                    <div class="kpi-sublabel">30 of 215 media houses</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value">32.2%</div>
                    <div class="kpi-label">Women in Leadership</div>
                    <div class="kpi-sublabel">297 of 923 leaders</div>
                </div>
                <div class="kpi-card success">
                    <div class="kpi-value">118</div>
                    <div class="kpi-label">Orgs Hired Women</div>
                    <div class="kpi-sublabel">54.9% in last 12 months</div>
                </div>
                <div class="kpi-card warning">
                    <div class="kpi-value">78</div>
                    <div class="kpi-label">Orgs Lost Women</div>
                    <div class="kpi-sublabel">36.3% in last 12 months</div>
                </div>
            </div>

            <!-- Section 1: Media Profile -->
            <div class="section-header">
                <span class="section-number">1</span>
                <span class="section-title">MEDIA PROFILE - Distribution by District & Region</span>
            </div>
            
            <div class="summary-grid">
                <div class="summary-box">
                    <h5>Media Type Breakdown</h5>
                    <div class="summary-item"><span class="label">Radio</span><span class="value">118 (54.9%)</span></div>
                    <div class="summary-item"><span class="label">Print</span><span class="value">87 (40.5%)</span></div>
                    <div class="summary-item"><span class="label">Television</span><span class="value">6 (2.8%)</span></div>
                    <div class="summary-item"><span class="label">Online/Digital</span><span class="value">4 (1.9%)</span></div>
                </div>
                <div class="summary-box">
                    <h5>Geographic Coverage</h5>
                    <div class="summary-item"><span class="label">Districts Covered</span><span class="value">16</span></div>
                    <div class="summary-item"><span class="label">Regions Covered</span><span class="value">5</span></div>
                    <div class="summary-item"><span class="label">Western Area</span><span class="value">131 (60.9%)</span></div>
                    <div class="summary-item"><span class="label">Other Regions</span><span class="value">84 (39.1%)</span></div>
                </div>
            </div>
            
            <div class="charts-grid">
                <div class="chart-card">
                    <h4>Media Types Distribution (National)</h4>
                    <div class="chart-container">
                        <canvas id="mediaTypeChart"></canvas>
                    </div>
                </div>
                <div class="chart-card">
                    <h4>Media Distribution by Region</h4>
                    <div class="chart-container">
                        <canvas id="mediaByRegionChart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="chart-card full-width-chart">
                <h4>Media Distribution by District</h4>
                <div class="chart-container tall">
                    <canvas id="mediaByDistrictChart"></canvas>
                </div>
            </div>

            <!-- Section 2: Media Ownership by Gender -->
            <div class="section-header">
                <span class="section-number">2</span>
                <span class="section-title">MEDIA OWNERSHIP BY GENDER - National, District & Region</span>
            </div>
            
            <div class="summary-grid">
                <div class="summary-box male">
                    <h5>Male Ownership</h5>
                    <div class="summary-item"><span class="label">Count</span><span class="value">163</span></div>
                    <div class="summary-item"><span class="label">Proportion</span><span class="value">75.8%</span></div>
                </div>
                <div class="summary-box female">
                    <h5>Female Ownership</h5>
                    <div class="summary-item"><span class="label">Count</span><span class="value">30</span></div>
                    <div class="summary-item"><span class="label">Proportion</span><span class="value">14.0%</span></div>
                </div>
                <div class="summary-box">
                    <h5>Unknown/Not Disclosed</h5>
                    <div class="summary-item"><span class="label">Prefer not to say</span><span class="value">16 (7.4%)</span></div>
                    <div class="summary-item"><span class="label">Don't know</span><span class="value">6 (2.8%)</span></div>
                </div>
            </div>
            
            <div class="charts-grid">
                <div class="chart-card">
                    <h4>Ownership by Gender (National)</h4>
                    <div class="chart-container">
                        <canvas id="ownershipNationalChart"></canvas>
                    </div>
                </div>
                <div class="chart-card">
                    <h4>Ownership by Gender per Region</h4>
                    <div class="chart-container">
                        <canvas id="ownershipRegionChart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="insight-box female">
                <h5>Key Insight</h5>
                <p>Only <strong>14% (30 out of 215)</strong> media houses are owned by women. Western Area has the highest female ownership with <strong>19 media houses (14.5%)</strong>, while Northern Region has <strong>zero female-owned</strong> media houses.</p>
            </div>

            <!-- Section 3: Gender Distribution Across Media Types -->
            <div class="section-header">
                <span class="section-number">3</span>
                <span class="section-title">PROPORTION OF FEMALE & MALE ACROSS MEDIA TYPES & DISTRICTS</span>
            </div>
            
            <div class="summary-grid">
                <div class="summary-box female">
                    <h5>Female Employees by Media Type</h5>
                    <div class="summary-item"><span class="label">Radio</span><span class="value">485 (32.1%)</span></div>
                    <div class="summary-item"><span class="label">Print</span><span class="value">219 (33.5%)</span></div>
                    <div class="summary-item"><span class="label">Television</span><span class="value">36 (34.0%)</span></div>
                    <div class="summary-item"><span class="label">Online/Digital</span><span class="value">25 (49.0%)</span></div>
                </div>
                <div class="summary-box male">
                    <h5>Male Employees by Media Type</h5>
                    <div class="summary-item"><span class="label">Radio</span><span class="value">1,026 (67.9%)</span></div>
                    <div class="summary-item"><span class="label">Print</span><span class="value">434 (66.5%)</span></div>
                    <div class="summary-item"><span class="label">Television</span><span class="value">70 (66.0%)</span></div>
                    <div class="summary-item"><span class="label">Online/Digital</span><span class="value">26 (51.0%)</span></div>
                </div>
            </div>
            
            <div class="charts-grid">
                <div class="chart-card">
                    <h4>Employees by Gender per Media Type</h4>
                    <div class="chart-container">
                        <canvas id="genderByMediaChart"></canvas>
                    </div>
                </div>
                <div class="chart-card">
                    <h4>Gender Proportion by Media Type (100% Stacked)</h4>
                    <div class="chart-container">
                        <canvas id="genderProportionChart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="chart-card full-width-chart">
                <h4>Gender Distribution by District</h4>
                <div class="chart-container tall">
                    <canvas id="genderByDistrictChart"></canvas>
                </div>
            </div>

            <!-- Section 4: Leadership Roles -->
            <div class="section-header">
                <span class="section-number">4</span>
                <span class="section-title">LEADERSHIP REPRESENTATION BY GENDER</span>
            </div>
            
            <div class="summary-grid">
                <div class="summary-box female">
                    <h5>Women in Leadership</h5>
                    <div class="summary-item"><span class="label">Total Count</span><span class="value">297</span></div>
                    <div class="summary-item"><span class="label">Overall Proportion</span><span class="value">32.2%</span></div>
                    <div class="summary-item"><span class="label">Best: Online/Digital</span><span class="value">50.0%</span></div>
                    <div class="summary-item"><span class="label">Worst: Television</span><span class="value">25.8%</span></div>
                </div>
                <div class="summary-box male">
                    <h5>Men in Leadership</h5>
                    <div class="summary-item"><span class="label">Total Count</span><span class="value">626</span></div>
                    <div class="summary-item"><span class="label">Overall Proportion</span><span class="value">67.8%</span></div>
                </div>
            </div>
            
            <div class="charts-grid">
                <div class="chart-card">
                    <h4>Leadership by Gender per Media Type</h4>
                    <div class="chart-container">
                        <canvas id="leadershipByMediaChart"></canvas>
                    </div>
                </div>
                <div class="chart-card">
                    <h4>Leadership by District (Top 10)</h4>
                    <div class="chart-container">
                        <canvas id="leadershipByDistrictChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Section 5: Non-Managerial Roles -->
            <div class="section-header">
                <span class="section-number">5</span>
                <span class="section-title">NON-MANAGERIAL REPRESENTATION BY GENDER</span>
            </div>
            
            <div class="summary-grid">
                <div class="summary-box female">
                    <h5>Women in Non-Managerial Roles</h5>
                    <div class="summary-item"><span class="label">Total Count</span><span class="value">472</span></div>
                    <div class="summary-item"><span class="label">Overall Proportion</span><span class="value">30.2%</span></div>
                </div>
                <div class="summary-box male">
                    <h5>Men in Non-Managerial Roles</h5>
                    <div class="summary-item"><span class="label">Total Count</span><span class="value">1,090</span></div>
                    <div class="summary-item"><span class="label">Overall Proportion</span><span class="value">69.8%</span></div>
                </div>
            </div>
            
            <div class="charts-grid">
                <div class="chart-card">
                    <h4>Non-Managerial Staff by Gender per Media Type</h4>
                    <div class="chart-container">
                        <canvas id="nonmgrByMediaChart"></canvas>
                    </div>
                </div>
                <div class="chart-card">
                    <h4>Non-Managerial Gender Proportion</h4>
                    <div class="chart-container">
                        <canvas id="nonmgrProportionChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Section 6: Operations/Admin Roles -->
            <div class="section-header">
                <span class="section-number">6</span>
                <span class="section-title">OPERATIONS/ADMIN REPRESENTATION BY GENDER</span>
            </div>
            
            <div class="summary-grid">
                <div class="summary-box female">
                    <h5>Women in Operations/Admin</h5>
                    <div class="summary-item"><span class="label">Total Count</span><span class="value">277</span></div>
                    <div class="summary-item"><span class="label">Overall Proportion</span><span class="value">42.2%</span></div>
                    <div class="summary-item"><span class="label">Best: Online/Digital</span><span class="value">56.3%</span></div>
                </div>
                <div class="summary-box male">
                    <h5>Men in Operations/Admin</h5>
                    <div class="summary-item"><span class="label">Total Count</span><span class="value">380</span></div>
                    <div class="summary-item"><span class="label">Overall Proportion</span><span class="value">57.8%</span></div>
                </div>
            </div>
            
            <div class="charts-grid">
                <div class="chart-card">
                    <h4>Operations Staff by Gender per Media Type</h4>
                    <div class="chart-container">
                        <canvas id="opsByMediaChart"></canvas>
                    </div>
                </div>
                <div class="chart-card">
                    <h4>Operations Gender Proportion</h4>
                    <div class="chart-container">
                        <canvas id="opsProportionChart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="insight-box">
                <h5>Key Finding</h5>
                <p>Operations/Admin has the <strong>best gender balance</strong> across all role types, with women representing <strong>42.2%</strong> of staff. Print media leads with <strong>51.5%</strong> women in operations roles.</p>
            </div>

            <!-- Section 7: Newsroom Employees -->
            <div class="section-header">
                <span class="section-number">7</span>
                <span class="section-title">NEWSROOM REPRESENTATION BY GENDER</span>
            </div>
            
            <div class="summary-grid">
                <div class="summary-box female">
                    <h5>Women in Newsroom</h5>
                    <div class="summary-item"><span class="label">Total Count</span><span class="value">507</span></div>
                    <div class="summary-item"><span class="label">Overall Proportion</span><span class="value">35.0%</span></div>
                </div>
                <div class="summary-box male">
                    <h5>Men in Newsroom</h5>
                    <div class="summary-item"><span class="label">Total Count</span><span class="value">940</span></div>
                    <div class="summary-item"><span class="label">Overall Proportion</span><span class="value">65.0%</span></div>
                </div>
            </div>
            
            <div class="charts-grid">
                <div class="chart-card">
                    <h4>Newsroom Staff by Gender per Media Type</h4>
                    <div class="chart-container">
                        <canvas id="newsroomByMediaChart"></canvas>
                    </div>
                </div>
                <div class="chart-card">
                    <h4>Newsroom Gender Proportion</h4>
                    <div class="chart-container">
                        <canvas id="newsroomProportionChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Section 8: Women Hired (12 months) -->
            <div class="section-header">
                <span class="section-number">8</span>
                <span class="section-title">WOMEN HIRED IN LAST 12 MONTHS</span>
            </div>
            
            <div class="summary-grid">
                <div class="summary-box">
                    <h5>Hiring Statistics</h5>
                    <div class="summary-item"><span class="label">Orgs that Hired Women</span><span class="value">118 (54.9%)</span></div>
                    <div class="summary-item"><span class="label">Orgs that Didn't Hire</span><span class="value">97 (45.1%)</span></div>
                    <div class="summary-item"><span class="label">Est. Women Hired</span><span class="value">~239</span></div>
                </div>
                <div class="summary-box">
                    <h5>By Media Type (Orgs)</h5>
                    <div class="summary-item"><span class="label">Radio</span><span class="value">66 (55.9%)</span></div>
                    <div class="summary-item"><span class="label">Print</span><span class="value">45 (51.7%)</span></div>
                    <div class="summary-item"><span class="label">Television</span><span class="value">5 (83.3%)</span></div>
                    <div class="summary-item"><span class="label">Online/Digital</span><span class="value">2 (50.0%)</span></div>
                </div>
            </div>
            
            <div class="charts-grid">
                <div class="chart-card">
                    <h4>Organizations Hiring Women by Media Type</h4>
                    <div class="chart-container">
                        <canvas id="hiredByMediaChart"></canvas>
                    </div>
                </div>
                <div class="chart-card">
                    <h4>Estimated Women Hired by Media Type</h4>
                    <div class="chart-container">
                        <canvas id="hiredEstimateChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Section 9: Women Retained (3+ years) -->
            <div class="section-header">
                <span class="section-number">9</span>
                <span class="section-title">WOMEN RETAINED 3+ YEARS</span>
            </div>
            
            <div class="summary-grid">
                <div class="summary-box">
                    <h5>Retention Statistics</h5>
                    <div class="summary-item"><span class="label">Orgs with Women Retained</span><span class="value">164 (76.3%)</span></div>
                    <div class="summary-item"><span class="label">Est. Women Retained</span><span class="value">~467</span></div>
                </div>
                <div class="summary-box">
                    <h5>By Media Type (Orgs)</h5>
                    <div class="summary-item"><span class="label">Radio</span><span class="value">99 (83.9%)</span></div>
                    <div class="summary-item"><span class="label">Print</span><span class="value">55 (63.2%)</span></div>
                    <div class="summary-item"><span class="label">Television</span><span class="value">6 (100%)</span></div>
                    <div class="summary-item"><span class="label">Online/Digital</span><span class="value">4 (100%)</span></div>
                </div>
            </div>
            
            <div class="charts-grid">
                <div class="chart-card">
                    <h4>Organizations with Women Retained 3+ Years</h4>
                    <div class="chart-container">
                        <canvas id="retainedByMediaChart"></canvas>
                    </div>
                </div>
                <div class="chart-card">
                    <h4>Estimated Women Retained by Media Type</h4>
                    <div class="chart-container">
                        <canvas id="retainedEstimateChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Section 10: Entry Barriers -->
            <div class="section-header">
                <span class="section-number">10</span>
                <span class="section-title">ENTRY BARRIERS WOMEN FACE</span>
            </div>
            
            <div class="summary-grid">
                <div class="summary-box">
                    <h5>Barrier Overview</h5>
                    <div class="summary-item"><span class="label">Orgs Reporting Barriers</span><span class="value">25 (11.6%)</span></div>
                    <div class="summary-item"><span class="label">Orgs: No Barriers</span><span class="value">190 (88.4%)</span></div>
                </div>
                <div class="summary-box female">
                    <h5>Top Barriers (Mentions)</h5>
                    <div class="summary-item"><span class="label">Lower Starting Pay</span><span class="value">19 (31.1%)</span></div>
                    <div class="summary-item"><span class="label">Women Hardly Apply</span><span class="value">14 (23.0%)</span></div>
                    <div class="summary-item"><span class="label">Limited Job Openings</span><span class="value">14 (23.0%)</span></div>
                    <div class="summary-item"><span class="label">Lack of Mentorship</span><span class="value">10 (16.4%)</span></div>
                </div>
            </div>
            
            <div class="chart-card">
                <h4>Types of Entry Barriers Reported</h4>
                <div class="chart-container tall">
                    <canvas id="barriersChart"></canvas>
                </div>
            </div>

            <!-- Section 11: Women Who Left -->
            <div class="section-header">
                <span class="section-number">11</span>
                <span class="section-title">PROPORTION OF WOMEN WHO LEFT BY MEDIA TYPE</span>
            </div>
            
            <div class="summary-grid">
                <div class="summary-box warning">
                    <h5>Departure Statistics</h5>
                    <div class="summary-item"><span class="label">Orgs Where Women Left</span><span class="value">78 (36.3%)</span></div>
                    <div class="summary-item"><span class="label">Est. Women Departed</span><span class="value">~146</span></div>
                </div>
                <div class="summary-box">
                    <h5>By Media Type (Orgs)</h5>
                    <div class="summary-item"><span class="label">Radio</span><span class="value">44 (37.3%)</span></div>
                    <div class="summary-item"><span class="label">Print</span><span class="value">28 (32.2%)</span></div>
                    <div class="summary-item"><span class="label">Television</span><span class="value">5 (83.3%)</span></div>
                    <div class="summary-item"><span class="label">Online/Digital</span><span class="value">1 (25.0%)</span></div>
                </div>
            </div>
            
            <div class="charts-grid">
                <div class="chart-card">
                    <h4>Organizations Where Women Left (12 months)</h4>
                    <div class="chart-container">
                        <canvas id="leftByMediaChart"></canvas>
                    </div>
                </div>
                <div class="chart-card">
                    <h4>Estimated Women Departed by Media Type</h4>
                    <div class="chart-container">
                        <canvas id="leftEstimateChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Section 12: Reasons for Departure -->
            <div class="section-header">
                <span class="section-number">12</span>
                <span class="section-title">REASONS FOR DEPARTURE BY MEDIA TYPE</span>
            </div>
            
            <div class="summary-grid">
                <div class="summary-box female">
                    <h5>Top Departure Reasons</h5>
                    <div class="summary-item"><span class="label">Low Pay/Poor Benefits</span><span class="value">56 (37.8%)</span></div>
                    <div class="summary-item"><span class="label">Better Opportunities</span><span class="value">54 (36.5%)</span></div>
                    <div class="summary-item"><span class="label">Family Responsibilities</span><span class="value">18 (12.2%)</span></div>
                    <div class="summary-item"><span class="label">Org. Restructuring</span><span class="value">6 (4.1%)</span></div>
                </div>
                <div class="summary-box">
                    <h5>Other Reasons</h5>
                    <div class="summary-item"><span class="label">Lack of Career Growth</span><span class="value">5 (3.4%)</span></div>
                    <div class="summary-item"><span class="label">Unsafe Conditions</span><span class="value">3 (2.0%)</span></div>
                    <div class="summary-item"><span class="label">Discrimination</span><span class="value">1 (0.7%)</span></div>
                    <div class="summary-item"><span class="label">Other</span><span class="value">5 (3.4%)</span></div>
                </div>
            </div>
            
            <div class="chart-card">
                <h4>Primary Reasons Women Leave Media Organizations</h4>
                <div class="chart-container tall">
                    <canvas id="reasonsChart"></canvas>
                </div>
            </div>
            
            <div class="insight-box warning">
                <h5>Key Finding</h5>
                <p>The top reasons women leave are: <strong>Low Pay/Poor Benefits (37.8%)</strong> and <strong>Better Opportunities Elsewhere (36.5%)</strong>. Together, these account for <strong>74.3%</strong> of all departure reasons. Family responsibilities account for only <strong>12.2%</strong>.</p>
            </div>

            <!-- Section 13: Career Stage at Departure -->
            <div class="section-header">
                <span class="section-number">13</span>
                <span class="section-title">CAREER STAGE AT DEPARTURE</span>
            </div>
            
            <div class="summary-grid">
                <div class="summary-box">
                    <h5>Career Stage Distribution</h5>
                    <div class="summary-item"><span class="label">Mid-level</span><span class="value">35 (44.9%)</span></div>
                    <div class="summary-item"><span class="label">Entry-level</span><span class="value">25 (32.1%)</span></div>
                    <div class="summary-item"><span class="label">Senior-level</span><span class="value">17 (21.8%)</span></div>
                    <div class="summary-item"><span class="label">Don't know</span><span class="value">1 (1.3%)</span></div>
                </div>
                <div class="summary-box female">
                    <h5>Insight</h5>
                    <p style="font-size: 12px; line-height: 1.5;">Women most commonly leave at <strong>mid-level positions (44.9%)</strong>, suggesting challenges in career progression to senior roles. This represents a critical retention point.</p>
                </div>
            </div>
            
            <div class="charts-grid">
                <div class="chart-card">
                    <h4>Career Stage When Women Leave</h4>
                    <div class="chart-container">
                        <canvas id="careerStageChart"></canvas>
                    </div>
                </div>
                <div class="chart-card">
                    <h4>Career Stage Proportion</h4>
                    <div class="chart-container">
                        <canvas id="careerStagePieChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Section 14: Attrition Rate -->
            <div class="section-header">
                <span class="section-number">14</span>
                <span class="section-title">ATTRITION RATE PERCEPTION AMONG WOMEN</span>
            </div>
            
            <div class="summary-grid">
                <div class="summary-box">
                    <h5>Response Distribution</h5>
                    <div class="summary-item"><span class="label">Strongly Agree</span><span class="value">24 (11.2%)</span></div>
                    <div class="summary-item"><span class="label">Agree</span><span class="value">53 (24.7%)</span></div>
                    <div class="summary-item"><span class="label">Neutral</span><span class="value">33 (15.3%)</span></div>
                    <div class="summary-item"><span class="label">Disagree</span><span class="value">64 (29.8%)</span></div>
                    <div class="summary-item"><span class="label">Strongly Disagree</span><span class="value">41 (19.1%)</span></div>
                </div>
                <div class="summary-box">
                    <h5>Summary</h5>
                    <div class="summary-item"><span class="label">Agree (Total)</span><span class="value">77 (35.8%)</span></div>
                    <div class="summary-item"><span class="label">Disagree (Total)</span><span class="value">105 (48.8%)</span></div>
                    <div class="summary-item"><span class="label">Neutral</span><span class="value">33 (15.3%)</span></div>
                </div>
            </div>
            
            <div class="charts-grid">
                <div class="chart-card">
                    <h4>Do Women Have Higher Attrition Rate?</h4>
                    <div class="chart-container">
                        <canvas id="attritionRateChart"></canvas>
                    </div>
                </div>
                <div class="chart-card">
                    <h4>Attrition Perception by Media Type</h4>
                    <div class="chart-container">
                        <canvas id="attritionByMediaChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Section 15: Impact of Attrition -->
            <div class="section-header">
                <span class="section-number">15</span>
                <span class="section-title">IMPACT OF ATTRITION</span>
            </div>
            
            <div class="summary-grid">
                <div class="summary-box female">
                    <h5>Top Impacts (Mentions)</h5>
                    <div class="summary-item"><span class="label">Loss of Skilled Staff</span><span class="value">120 (30.9%)</span></div>
                    <div class="summary-item"><span class="label">Reduced Diversity</span><span class="value">120 (30.9%)</span></div>
                    <div class="summary-item"><span class="label">Negative Reputation</span><span class="value">62 (16.0%)</span></div>
                    <div class="summary-item"><span class="label">Increased Recruitment Costs</span><span class="value">37 (9.5%)</span></div>
                </div>
                <div class="summary-box">
                    <h5>Other Impacts</h5>
                    <div class="summary-item"><span class="label">No Significant Impact</span><span class="value">35 (9.0%)</span></div>
                    <div class="summary-item"><span class="label">Other</span><span class="value">15 (3.9%)</span></div>
                    <div class="summary-item"><span class="label">Total Mentions</span><span class="value">389</span></div>
                </div>
            </div>
            
            <div class="chart-card">
                <h4>Reported Impacts of Women Leaving Organizations</h4>
                <div class="chart-container tall">
                    <canvas id="impactChart"></canvas>
                </div>
            </div>
            
            <div class="insight-box female">
                <h5>Key Takeaway</h5>
                <p>The top two impacts - <strong>Loss of Skilled Staff</strong> and <strong>Reduced Diversity in Reporting</strong> - are tied at <strong>30.9% each</strong>, showing that organizations recognize the significant cost of losing female employees both in terms of talent and content diversity.</p>
            </div>
        </div>

        <div class="page-footer">
            <p style="margin: 0; font-weight: 700;">BBCMA Gender Audit Survey - Sierra Leone</p>
            <p>National Malaria Control Programme | Ministry of Health and Sanitation</p>
            <p style="font-size: 10px;">Â© 2025 Informatics Consultancy Firm-Sierra Leone (ICF-SL)</p>
        </div>
    </div>

    <script>
        // Color schemes
        const colors = {
            female: '#e91e63',
            femaleDark: '#c2185b',
            femaleLight: '#f8bbd0',
            male: '#1976d2',
            maleDark: '#0d47a1',
            maleLight: '#bbdefb',
            primary: '#004080',
            secondary: '#0056b3',
            success: '#2e7d32',
            successLight: '#81c784',
            warning: '#f57c00',
            warningLight: '#ffb74d',
            neutral: '#9e9e9e',
            neutralLight: '#e0e0e0'
        };

        const mediaColors = ['#004080', '#e91e63', '#2e7d32', '#f57c00'];
        const regionColors = ['#004080', '#e91e63', '#2e7d32', '#f57c00', '#9c27b0'];

        // Chart defaults
        Chart.defaults.font.family = "'Oswald', Arial, sans-serif";
        Chart.defaults.font.weight = 500;
        Chart.defaults.font.size = 12;

        // Custom tooltip configuration
        const tooltipConfig = {
            backgroundColor: 'rgba(0, 64, 128, 0.95)',
            titleFont: { size: 14, weight: 'bold' },
            bodyFont: { size: 13 },
            padding: 12,
            cornerRadius: 8,
            displayColors: true,
            boxPadding: 6
        };

        // Helper function to create count + percentage tooltip
        function createTooltipCallback(datasetTotals) {
            return {
                label: function(context) {
                    const value = context.raw;
                    const total = datasetTotals[context.datasetIndex] || context.dataset.data.reduce((a, b) => a + b, 0);
                    const pct = ((value / total) * 100).toFixed(1);
                    return `${context.dataset.label}: ${value.toLocaleString()} (${pct}%)`;
                }
            };
        }

        // =====================================================================
        // 1. MEDIA PROFILE CHARTS
        // =====================================================================
        
        // 1a. Media Type Distribution (Pie)
        const mediaTypeData = {
            labels: ['Radio', 'Print', 'Television', 'Online/Digital'],
            values: [118, 87, 6, 4],
            total: 215
        };
        
        new Chart(document.getElementById('mediaTypeChart'), {
            type: 'doughnut',
            data: {
                labels: mediaTypeData.labels,
                datasets: [{
                    data: mediaTypeData.values,
                    backgroundColor: mediaColors,
                    borderWidth: 3,
                    borderColor: '#fff',
                    hoverOffset: 10
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { 
                        position: 'bottom',
                        labels: { padding: 15, font: { size: 12, weight: 600 } }
                    },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            label: function(context) {
                                const value = context.raw;
                                const pct = ((value / mediaTypeData.total) * 100).toFixed(1);
                                return `${context.label}: ${value} (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });

        // 1b. Media by Region
        new Chart(document.getElementById('mediaByRegionChart'), {
            type: 'bar',
            data: {
                labels: ['Western Area', 'Eastern Region', 'Southern Region', 'Northern Region', 'N-W Region'],
                datasets: [
                    { label: 'Radio', data: [38, 32, 22, 13, 13], backgroundColor: mediaColors[0] },
                    { label: 'Print', data: [86, 0, 0, 1, 0], backgroundColor: mediaColors[1] },
                    { label: 'Television', data: [3, 1, 1, 1, 0], backgroundColor: mediaColors[2] },
                    { label: 'Online/Digital', data: [4, 0, 0, 0, 0], backgroundColor: mediaColors[3] }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: { 
                    x: { stacked: true, grid: { display: false } }, 
                    y: { stacked: true, beginAtZero: true, title: { display: true, text: 'Count', font: { weight: 'bold' } } }
                },
                plugins: { 
                    legend: { position: 'bottom', labels: { padding: 15 } },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            afterTitle: function(context) {
                                const idx = context[0].dataIndex;
                                const totals = [131, 33, 23, 15, 13];
                                return `Total: ${totals[idx]} media houses`;
                            },
                            label: function(context) {
                                const value = context.raw;
                                const idx = context.dataIndex;
                                const totals = [131, 33, 23, 15, 13];
                                const pct = totals[idx] > 0 ? ((value / totals[idx]) * 100).toFixed(1) : 0;
                                return `${context.dataset.label}: ${value} (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });

        // 1c. Media by District
        new Chart(document.getElementById('mediaByDistrictChart'), {
            type: 'bar',
            data: {
                labels: ['W.A. Urban', 'Kenema', 'W.A. Rural', 'Kailahun', 'Bo', 'Kono', 'Bombali', 'Port Loko', 'Bonthe', 'Kambia', 'Pujehun', 'Moyamba', 'Tonkolili', 'Karene', 'Koinadugu', 'Falaba'],
                datasets: [
                    { label: 'Radio', data: [27, 15, 11, 9, 8, 8, 6, 6, 5, 5, 5, 4, 4, 2, 2, 1], backgroundColor: mediaColors[0] },
                    { label: 'Print', data: [84, 0, 2, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], backgroundColor: mediaColors[1] },
                    { label: 'Television', data: [2, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0], backgroundColor: mediaColors[2] },
                    { label: 'Online/Digital', data: [4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], backgroundColor: mediaColors[3] }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y',
                scales: { 
                    x: { stacked: true, beginAtZero: true, title: { display: true, text: 'Count', font: { weight: 'bold' } } }, 
                    y: { stacked: true, grid: { display: false } }
                },
                plugins: { 
                    legend: { position: 'bottom' },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            afterTitle: function(context) {
                                const totals = [117, 16, 14, 9, 9, 8, 7, 6, 5, 5, 5, 4, 5, 2, 2, 1];
                                return `Total: ${totals[context[0].dataIndex]} media houses`;
                            },
                            label: function(context) {
                                const value = context.raw;
                                const totals = [117, 16, 14, 9, 9, 8, 7, 6, 5, 5, 5, 4, 5, 2, 2, 1];
                                const total = totals[context.dataIndex];
                                const pct = total > 0 ? ((value / total) * 100).toFixed(1) : 0;
                                return `${context.dataset.label}: ${value} (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });

        // =====================================================================
        // 2. OWNERSHIP CHARTS
        // =====================================================================
        
        new Chart(document.getElementById('ownershipNationalChart'), {
            type: 'doughnut',
            data: {
                labels: ['Male', 'Female', 'Prefer not to say', "Don't know"],
                datasets: [{
                    data: [163, 30, 16, 6],
                    backgroundColor: [colors.male, colors.female, colors.neutral, colors.neutralLight],
                    borderWidth: 3,
                    borderColor: '#fff',
                    hoverOffset: 10
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'bottom', labels: { padding: 15 } },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            label: function(context) {
                                const value = context.raw;
                                const pct = ((value / 215) * 100).toFixed(1);
                                return `${context.label}: ${value} (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });

        new Chart(document.getElementById('ownershipRegionChart'), {
            type: 'bar',
            data: {
                labels: ['Western Area', 'Eastern Region', 'Southern Region', 'Northern Region', 'N-W Region'],
                datasets: [
                    { label: 'Male Owned', data: [106, 22, 19, 9, 7], backgroundColor: colors.male },
                    { label: 'Female Owned', data: [19, 5, 2, 0, 4], backgroundColor: colors.female }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: { 
                    y: { beginAtZero: true, title: { display: true, text: 'Count', font: { weight: 'bold' } } },
                    x: { grid: { display: false } }
                },
                plugins: { 
                    legend: { position: 'bottom' },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            afterTitle: function(context) {
                                const totals = [131, 33, 23, 15, 13];
                                return `Region Total: ${totals[context[0].dataIndex]}`;
                            },
                            label: function(context) {
                                const value = context.raw;
                                const totals = [131, 33, 23, 15, 13];
                                const pct = ((value / totals[context.dataIndex]) * 100).toFixed(1);
                                return `${context.dataset.label}: ${value} (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });

        // =====================================================================
        // 3. GENDER DISTRIBUTION CHARTS
        // =====================================================================
        
        const genderByMedia = {
            labels: ['Radio', 'Print', 'Television', 'Online/Digital'],
            female: [485, 219, 36, 25],
            male: [1026, 434, 70, 26],
            totals: [1511, 653, 106, 51]
        };

        new Chart(document.getElementById('genderByMediaChart'), {
            type: 'bar',
            data: {
                labels: genderByMedia.labels,
                datasets: [
                    { label: 'Female', data: genderByMedia.female, backgroundColor: colors.female },
                    { label: 'Male', data: genderByMedia.male, backgroundColor: colors.male }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: { 
                    y: { beginAtZero: true, title: { display: true, text: 'Employee Count', font: { weight: 'bold' } } },
                    x: { grid: { display: false } }
                },
                plugins: { 
                    legend: { position: 'bottom' },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            afterTitle: function(context) {
                                return `Total: ${genderByMedia.totals[context[0].dataIndex]} employees`;
                            },
                            label: function(context) {
                                const value = context.raw;
                                const pct = ((value / genderByMedia.totals[context.dataIndex]) * 100).toFixed(1);
                                return `${context.dataset.label}: ${value.toLocaleString()} (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });

        new Chart(document.getElementById('genderProportionChart'), {
            type: 'bar',
            data: {
                labels: genderByMedia.labels,
                datasets: [
                    { label: 'Female %', data: [32.1, 33.5, 34.0, 49.0], backgroundColor: colors.female },
                    { label: 'Male %', data: [67.9, 66.5, 66.0, 51.0], backgroundColor: colors.male }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y',
                scales: { 
                    x: { stacked: true, max: 100, title: { display: true, text: 'Percentage (%)', font: { weight: 'bold' } } },
                    y: { stacked: true, grid: { display: false } }
                },
                plugins: { 
                    legend: { position: 'bottom' },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            label: function(context) {
                                const idx = context.dataIndex;
                                const isFemale = context.datasetIndex === 0;
                                const count = isFemale ? genderByMedia.female[idx] : genderByMedia.male[idx];
                                return `${context.dataset.label}: ${context.raw}% (${count.toLocaleString()} employees)`;
                            }
                        }
                    }
                }
            }
        });

        // Gender by District
        const genderByDistrict = {
            labels: ['W.A. Urban', 'Kenema', 'Bo', 'Bombali', 'W.A. Rural', 'Kono', 'Kailahun', 'Port Loko'],
            female: [457, 65, 32, 28, 38, 27, 22, 20],
            male: [817, 134, 88, 69, 63, 61, 82, 40],
            totals: [1274, 199, 120, 97, 101, 88, 104, 60]
        };

        new Chart(document.getElementById('genderByDistrictChart'), {
            type: 'bar',
            data: {
                labels: genderByDistrict.labels,
                datasets: [
                    { label: 'Female', data: genderByDistrict.female, backgroundColor: colors.female },
                    { label: 'Male', data: genderByDistrict.male, backgroundColor: colors.male }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y',
                scales: { 
                    x: { beginAtZero: true, title: { display: true, text: 'Employee Count', font: { weight: 'bold' } } },
                    y: { grid: { display: false } }
                },
                plugins: { 
                    legend: { position: 'bottom' },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            afterTitle: function(context) {
                                return `Total: ${genderByDistrict.totals[context[0].dataIndex]} employees`;
                            },
                            label: function(context) {
                                const value = context.raw;
                                const pct = ((value / genderByDistrict.totals[context.dataIndex]) * 100).toFixed(1);
                                return `${context.dataset.label}: ${value.toLocaleString()} (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });

        // =====================================================================
        // 4. LEADERSHIP CHARTS
        // =====================================================================
        
        const leadershipData = {
            labels: ['Radio', 'Print', 'Television', 'Online/Digital'],
            women: [198, 81, 8, 10],
            men: [397, 196, 23, 10],
            totals: [595, 277, 31, 20]
        };

        new Chart(document.getElementById('leadershipByMediaChart'), {
            type: 'bar',
            data: {
                labels: leadershipData.labels,
                datasets: [
                    { label: 'Women Leaders', data: leadershipData.women, backgroundColor: colors.female },
                    { label: 'Men Leaders', data: leadershipData.men, backgroundColor: colors.male }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: { 
                    y: { beginAtZero: true, title: { display: true, text: 'Count', font: { weight: 'bold' } } },
                    x: { grid: { display: false } }
                },
                plugins: { 
                    legend: { position: 'bottom' },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            afterTitle: function(context) {
                                return `Total Leaders: ${leadershipData.totals[context[0].dataIndex]}`;
                            },
                            label: function(context) {
                                const value = context.raw;
                                const pct = ((value / leadershipData.totals[context.dataIndex]) * 100).toFixed(1);
                                return `${context.dataset.label}: ${value} (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });

        const leadershipDistrict = {
            labels: ['W.A. Urban', 'Bombali', 'Kenema', 'Kono', 'Bo', 'Kailahun', 'W.A. Rural', 'Kambia'],
            women: [145, 13, 33, 15, 13, 11, 21, 9],
            men: [274, 63, 57, 29, 29, 24, 32, 22],
            totals: [419, 76, 90, 44, 42, 35, 53, 31]
        };

        new Chart(document.getElementById('leadershipByDistrictChart'), {
            type: 'bar',
            data: {
                labels: leadershipDistrict.labels,
                datasets: [
                    { label: 'Women', data: leadershipDistrict.women, backgroundColor: colors.female },
                    { label: 'Men', data: leadershipDistrict.men, backgroundColor: colors.male }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y',
                scales: { 
                    x: { stacked: true, beginAtZero: true },
                    y: { stacked: true, grid: { display: false } }
                },
                plugins: { 
                    legend: { position: 'bottom' },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            afterTitle: function(context) {
                                return `Total: ${leadershipDistrict.totals[context[0].dataIndex]}`;
                            },
                            label: function(context) {
                                const value = context.raw;
                                const pct = ((value / leadershipDistrict.totals[context.dataIndex]) * 100).toFixed(1);
                                return `${context.dataset.label}: ${value} (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });

        // =====================================================================
        // 5. NON-MANAGERIAL CHARTS
        // =====================================================================
        
        const nonmgrData = {
            labels: ['Radio', 'Print', 'Television', 'Online/Digital'],
            women: [291, 139, 27, 15],
            men: [686, 340, 48, 16],
            totals: [977, 479, 75, 31]
        };

        new Chart(document.getElementById('nonmgrByMediaChart'), {
            type: 'bar',
            data: {
                labels: nonmgrData.labels,
                datasets: [
                    { label: 'Women', data: nonmgrData.women, backgroundColor: colors.female },
                    { label: 'Men', data: nonmgrData.men, backgroundColor: colors.male }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: { 
                    y: { beginAtZero: true, title: { display: true, text: 'Count', font: { weight: 'bold' } } },
                    x: { grid: { display: false } }
                },
                plugins: { 
                    legend: { position: 'bottom' },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            afterTitle: function(context) {
                                return `Total: ${nonmgrData.totals[context[0].dataIndex]}`;
                            },
                            label: function(context) {
                                const value = context.raw;
                                const pct = ((value / nonmgrData.totals[context.dataIndex]) * 100).toFixed(1);
                                return `${context.dataset.label}: ${value} (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });

        new Chart(document.getElementById('nonmgrProportionChart'), {
            type: 'doughnut',
            data: {
                labels: ['Women (472)', 'Men (1,090)'],
                datasets: [{
                    data: [472, 1090],
                    backgroundColor: [colors.female, colors.male],
                    borderWidth: 3,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'bottom' },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            label: function(context) {
                                const value = context.raw;
                                const pct = ((value / 1562) * 100).toFixed(1);
                                return `${context.label.split(' ')[0]}: ${value.toLocaleString()} (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });

        // =====================================================================
        // 6. OPERATIONS CHARTS
        // =====================================================================
        
        const opsData = {
            labels: ['Radio', 'Print', 'Television', 'Online/Digital'],
            women: [173, 85, 10, 9],
            men: [279, 80, 14, 7],
            totals: [452, 165, 24, 16]
        };

        new Chart(document.getElementById('opsByMediaChart'), {
            type: 'bar',
            data: {
                labels: opsData.labels,
                datasets: [
                    { label: 'Women', data: opsData.women, backgroundColor: colors.female },
                    { label: 'Men', data: opsData.men, backgroundColor: colors.male }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: { 
                    y: { beginAtZero: true, title: { display: true, text: 'Count', font: { weight: 'bold' } } },
                    x: { grid: { display: false } }
                },
                plugins: { 
                    legend: { position: 'bottom' },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            afterTitle: function(context) {
                                return `Total: ${opsData.totals[context[0].dataIndex]}`;
                            },
                            label: function(context) {
                                const value = context.raw;
                                const pct = ((value / opsData.totals[context.dataIndex]) * 100).toFixed(1);
                                return `${context.dataset.label}: ${value} (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });

        new Chart(document.getElementById('opsProportionChart'), {
            type: 'doughnut',
            data: {
                labels: ['Women (277)', 'Men (380)'],
                datasets: [{
                    data: [277, 380],
                    backgroundColor: [colors.female, colors.male],
                    borderWidth: 3,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'bottom' },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            label: function(context) {
                                const value = context.raw;
                                const pct = ((value / 657) * 100).toFixed(1);
                                return `${context.label.split(' ')[0]}: ${value} (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });

        // =====================================================================
        // 7. NEWSROOM CHARTS
        // =====================================================================
        
        const newsroomData = {
            labels: ['Radio', 'Print', 'Television', 'Online/Digital'],
            women: [328, 141, 27, 11],
            men: [556, 325, 44, 15],
            totals: [884, 466, 71, 26]
        };

        new Chart(document.getElementById('newsroomByMediaChart'), {
            type: 'bar',
            data: {
                labels: newsroomData.labels,
                datasets: [
                    { label: 'Women', data: newsroomData.women, backgroundColor: colors.female },
                    { label: 'Men', data: newsroomData.men, backgroundColor: colors.male }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: { 
                    y: { beginAtZero: true, title: { display: true, text: 'Count', font: { weight: 'bold' } } },
                    x: { grid: { display: false } }
                },
                plugins: { 
                    legend: { position: 'bottom' },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            afterTitle: function(context) {
                                return `Total: ${newsroomData.totals[context[0].dataIndex]}`;
                            },
                            label: function(context) {
                                const value = context.raw;
                                const pct = ((value / newsroomData.totals[context.dataIndex]) * 100).toFixed(1);
                                return `${context.dataset.label}: ${value} (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });

        new Chart(document.getElementById('newsroomProportionChart'), {
            type: 'doughnut',
            data: {
                labels: ['Women (507)', 'Men (940)'],
                datasets: [{
                    data: [507, 940],
                    backgroundColor: [colors.female, colors.male],
                    borderWidth: 3,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'bottom' },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            label: function(context) {
                                const value = context.raw;
                                const pct = ((value / 1447) * 100).toFixed(1);
                                return `${context.label.split(' ')[0]}: ${value} (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });

        // =====================================================================
        // 8. WOMEN HIRED CHARTS
        // =====================================================================
        
        const hiredData = {
            labels: ['Radio', 'Print', 'Television', 'Online/Digital'],
            orgs: [66, 45, 5, 2],
            totals: [118, 87, 6, 4],
            estimates: [144.5, 72.5, 12.5, 9.5]
        };

        new Chart(document.getElementById('hiredByMediaChart'), {
            type: 'bar',
            data: {
                labels: hiredData.labels,
                datasets: [{
                    label: 'Organizations',
                    data: hiredData.orgs,
                    backgroundColor: colors.success
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: { 
                    y: { beginAtZero: true, title: { display: true, text: 'Number of Organizations', font: { weight: 'bold' } } },
                    x: { grid: { display: false } }
                },
                plugins: { 
                    legend: { display: false },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            afterTitle: function(context) {
                                return `Total ${hiredData.labels[context[0].dataIndex]} orgs: ${hiredData.totals[context[0].dataIndex]}`;
                            },
                            label: function(context) {
                                const value = context.raw;
                                const pct = ((value / hiredData.totals[context.dataIndex]) * 100).toFixed(1);
                                return `Hired women: ${value} orgs (${pct}% of media type)`;
                            }
                        }
                    }
                }
            }
        });

        new Chart(document.getElementById('hiredEstimateChart'), {
            type: 'doughnut',
            data: {
                labels: hiredData.labels,
                datasets: [{
                    data: hiredData.estimates,
                    backgroundColor: mediaColors,
                    borderWidth: 3,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'bottom' },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            label: function(context) {
                                const value = context.raw;
                                const total = hiredData.estimates.reduce((a, b) => a + b, 0);
                                const pct = ((value / total) * 100).toFixed(1);
                                return `${context.label}: ~${value} women (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });

        // =====================================================================
        // 9. WOMEN RETAINED CHARTS
        // =====================================================================
        
        const retainedData = {
            labels: ['Radio', 'Print', 'Television', 'Online/Digital'],
            orgs: [99, 55, 6, 4],
            totals: [118, 87, 6, 4],
            estimates: [306, 128, 18, 15]
        };

        new Chart(document.getElementById('retainedByMediaChart'), {
            type: 'bar',
            data: {
                labels: retainedData.labels,
                datasets: [{
                    label: 'Organizations',
                    data: retainedData.orgs,
                    backgroundColor: colors.primary
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: { 
                    y: { beginAtZero: true, title: { display: true, text: 'Number of Organizations', font: { weight: 'bold' } } },
                    x: { grid: { display: false } }
                },
                plugins: { 
                    legend: { display: false },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            afterTitle: function(context) {
                                return `Total ${retainedData.labels[context[0].dataIndex]} orgs: ${retainedData.totals[context[0].dataIndex]}`;
                            },
                            label: function(context) {
                                const value = context.raw;
                                const pct = ((value / retainedData.totals[context.dataIndex]) * 100).toFixed(1);
                                return `Retained women 3+ yrs: ${value} orgs (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });

        new Chart(document.getElementById('retainedEstimateChart'), {
            type: 'doughnut',
            data: {
                labels: retainedData.labels,
                datasets: [{
                    data: retainedData.estimates,
                    backgroundColor: mediaColors,
                    borderWidth: 3,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'bottom' },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            label: function(context) {
                                const value = context.raw;
                                const total = retainedData.estimates.reduce((a, b) => a + b, 0);
                                const pct = ((value / total) * 100).toFixed(1);
                                return `${context.label}: ~${value} women (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });

        // =====================================================================
        // 10. BARRIERS CHART
        // =====================================================================
        
        const barriersData = {
            labels: ['Lower Starting Pay', 'Women Hardly Apply', 'Limited Job Openings', 'Lack of Mentorship', 'Social Expectations', 'Family Pressure', 'Other'],
            values: [19, 14, 14, 10, 2, 1, 1],
            total: 61
        };

        new Chart(document.getElementById('barriersChart'), {
            type: 'bar',
            data: {
                labels: barriersData.labels,
                datasets: [{
                    label: 'Mentions',
                    data: barriersData.values,
                    backgroundColor: colors.female
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y',
                scales: { 
                    x: { beginAtZero: true, title: { display: true, text: 'Number of Mentions', font: { weight: 'bold' } } },
                    y: { grid: { display: false } }
                },
                plugins: { 
                    legend: { display: false },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            afterTitle: function() {
                                return `Total mentions: ${barriersData.total} (from 25 orgs)`;
                            },
                            label: function(context) {
                                const value = context.raw;
                                const pct = ((value / barriersData.total) * 100).toFixed(1);
                                return `${context.label}: ${value} mentions (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });

        // =====================================================================
        // 11. WOMEN LEFT CHARTS
        // =====================================================================
        
        const leftData = {
            labels: ['Radio', 'Print', 'Television', 'Online/Digital'],
            orgs: [44, 28, 5, 1],
            totals: [118, 87, 6, 4],
            estimates: [81, 47, 16.5, 1.5]
        };

        new Chart(document.getElementById('leftByMediaChart'), {
            type: 'bar',
            data: {
                labels: leftData.labels,
                datasets: [{
                    label: 'Organizations',
                    data: leftData.orgs,
                    backgroundColor: colors.warning
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: { 
                    y: { beginAtZero: true, title: { display: true, text: 'Number of Organizations', font: { weight: 'bold' } } },
                    x: { grid: { display: false } }
                },
                plugins: { 
                    legend: { display: false },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            afterTitle: function(context) {
                                return `Total ${leftData.labels[context[0].dataIndex]} orgs: ${leftData.totals[context[0].dataIndex]}`;
                            },
                            label: function(context) {
                                const value = context.raw;
                                const pct = ((value / leftData.totals[context.dataIndex]) * 100).toFixed(1);
                                return `Women left: ${value} orgs (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });

        new Chart(document.getElementById('leftEstimateChart'), {
            type: 'doughnut',
            data: {
                labels: leftData.labels,
                datasets: [{
                    data: leftData.estimates,
                    backgroundColor: mediaColors,
                    borderWidth: 3,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'bottom' },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            label: function(context) {
                                const value = context.raw;
                                const total = leftData.estimates.reduce((a, b) => a + b, 0);
                                const pct = ((value / total) * 100).toFixed(1);
                                return `${context.label}: ~${value} women (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });

        // =====================================================================
        // 12. DEPARTURE REASONS CHART
        // =====================================================================
        
        const reasonsData = {
            labels: ['Low Pay/Poor Benefits', 'Better Opportunities', 'Family Responsibilities', 'Org. Restructuring', 'Lack of Career Growth', 'Other', 'Unsafe Conditions', 'Discrimination'],
            values: [56, 54, 18, 6, 5, 5, 3, 1],
            total: 148
        };

        new Chart(document.getElementById('reasonsChart'), {
            type: 'bar',
            data: {
                labels: reasonsData.labels,
                datasets: [{
                    label: 'Mentions',
                    data: reasonsData.values,
                    backgroundColor: ['#004080', '#0056b3', '#1976d2', '#42a5f5', '#64b5f6', '#90caf9', '#bbdefb', '#e3f2fd']
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y',
                scales: { 
                    x: { beginAtZero: true, title: { display: true, text: 'Number of Mentions', font: { weight: 'bold' } } },
                    y: { grid: { display: false } }
                },
                plugins: { 
                    legend: { display: false },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            afterTitle: function() {
                                return `Total mentions: ${reasonsData.total}`;
                            },
                            label: function(context) {
                                const value = context.raw;
                                const pct = ((value / reasonsData.total) * 100).toFixed(1);
                                return `${context.label}: ${value} mentions (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });

        // =====================================================================
        // 13. CAREER STAGE CHARTS
        // =====================================================================
        
        const careerData = {
            labels: ['Mid-level', 'Entry-level', 'Senior-level', "Don't know"],
            values: [35, 25, 17, 1],
            total: 78
        };

        new Chart(document.getElementById('careerStageChart'), {
            type: 'bar',
            data: {
                labels: careerData.labels,
                datasets: [{
                    label: 'Count',
                    data: careerData.values,
                    backgroundColor: [colors.warning, colors.success, colors.female, colors.neutral]
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: { 
                    y: { beginAtZero: true, title: { display: true, text: 'Count', font: { weight: 'bold' } } },
                    x: { grid: { display: false } }
                },
                plugins: { 
                    legend: { display: false },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            label: function(context) {
                                const value = context.raw;
                                const pct = ((value / careerData.total) * 100).toFixed(1);
                                return `${context.label}: ${value} (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });

        new Chart(document.getElementById('careerStagePieChart'), {
            type: 'doughnut',
            data: {
                labels: careerData.labels,
                datasets: [{
                    data: careerData.values,
                    backgroundColor: [colors.warning, colors.success, colors.female, colors.neutral],
                    borderWidth: 3,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'bottom' },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            label: function(context) {
                                const value = context.raw;
                                const pct = ((value / careerData.total) * 100).toFixed(1);
                                return `${context.label}: ${value} (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });

        // =====================================================================
        // 14. ATTRITION RATE CHARTS
        // =====================================================================
        
        const attritionData = {
            labels: ['Strongly Agree', 'Agree', 'Neutral', 'Disagree', 'Strongly Disagree'],
            values: [24, 53, 33, 64, 41],
            total: 215
        };

        new Chart(document.getElementById('attritionRateChart'), {
            type: 'doughnut',
            data: {
                labels: attritionData.labels,
                datasets: [{
                    data: attritionData.values,
                    backgroundColor: [colors.female, colors.warning, colors.neutral, colors.success, '#2e7d32'],
                    borderWidth: 3,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'bottom' },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            label: function(context) {
                                const value = context.raw;
                                const pct = ((value / attritionData.total) * 100).toFixed(1);
                                return `${context.label}: ${value} (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });

        new Chart(document.getElementById('attritionByMediaChart'), {
            type: 'bar',
            data: {
                labels: ['Radio', 'Print', 'Television', 'Online/Digital'],
                datasets: [
                    { label: 'Strongly Agree', data: [18, 5, 1, 0], backgroundColor: colors.female },
                    { label: 'Agree', data: [24, 29, 0, 0], backgroundColor: colors.warning },
                    { label: 'Neutral', data: [19, 14, 0, 0], backgroundColor: colors.neutral },
                    { label: 'Disagree', data: [34, 24, 3, 3], backgroundColor: colors.success },
                    { label: 'Strongly Disagree', data: [23, 15, 2, 1], backgroundColor: '#2e7d32' }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: { 
                    x: { stacked: true, grid: { display: false } }, 
                    y: { stacked: true, beginAtZero: true }
                },
                plugins: { 
                    legend: { position: 'bottom', labels: { boxWidth: 12, font: { size: 10 } } },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            afterTitle: function(context) {
                                const totals = [118, 87, 6, 4];
                                return `Total: ${totals[context[0].dataIndex]} organizations`;
                            },
                            label: function(context) {
                                const value = context.raw;
                                const totals = [118, 87, 6, 4];
                                const pct = ((value / totals[context.dataIndex]) * 100).toFixed(1);
                                return `${context.dataset.label}: ${value} (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });

        // =====================================================================
        // 15. ATTRITION IMPACT CHART
        // =====================================================================
        
        const impactData = {
            labels: ['Loss of Skilled Staff', 'Reduced Diversity', 'Negative Reputation', 'Increased Recruitment Costs', 'No Significant Impact', 'Other'],
            values: [120, 120, 62, 37, 35, 15],
            total: 389
        };

        new Chart(document.getElementById('impactChart'), {
            type: 'bar',
            data: {
                labels: impactData.labels,
                datasets: [{
                    label: 'Mentions',
                    data: impactData.values,
                    backgroundColor: [colors.female, colors.female, colors.warning, colors.primary, colors.neutral, colors.neutralLight]
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y',
                scales: { 
                    x: { beginAtZero: true, title: { display: true, text: 'Number of Mentions', font: { weight: 'bold' } } },
                    y: { grid: { display: false } }
                },
                plugins: { 
                    legend: { display: false },
                    tooltip: {
                        ...tooltipConfig,
                        callbacks: {
                            afterTitle: function() {
                                return `Total mentions: ${impactData.total}`;
                            },
                            label: function(context) {
                                const value = context.raw;
                                const pct = ((value / impactData.total) * 100).toFixed(1);
                                return `${context.label}: ${value} mentions (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
